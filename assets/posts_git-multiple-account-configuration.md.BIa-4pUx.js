import { _ as _export_sfc, c as createElementBlock, o as openBlock, a as createStaticVNode } from "./app.C38AKkke.js";
const __pageData = JSON.parse('{"title":"Git 多账户配置","description":"","frontmatter":{"title":"Git 多账户配置","date":"2022-07-10T00:00:00.000Z","lastUpdate":"2025-08-28T09:58:00.000Z","layout":"post","category":"写作"},"headers":[],"relativePath":"posts/git-multiple-account-configuration.md","filePath":"posts/git-multiple-account-configuration.md","lastUpdated":1768985555000}');
const _sfc_main = { name: "posts/git-multiple-account-configuration.md" };
function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", null, [..._cache[0] || (_cache[0] = [
    createStaticVNode('<p>当一位开发者拥有多个 Git 账户，在操作（如：commit）Git 时应该注意下当前账户，若随意使用不同账户，那么操作记录的所属人会变得混乱不堪，如果需要统计数据也会增加复杂度。</p><p>下面我们通过配置做到一劳永逸，在 Git 中，配置可分为：</p><ul><li>system（系统级别）</li><li>global（全局级别）</li><li>local（本地级别）</li></ul><p>以下命令查看各自配置：</p><div class="language-sh"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> config</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --system</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --list</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> config</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --global</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --list</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> config</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --local</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --list</span></span></code></pre></div><p>配置中遇到相同关键字（key）采用覆盖模式，覆盖规则：<code>system</code> &lt; <code>global</code> &lt; <code>local</code>，后者覆盖前者。</p><p>多数网络教程中，通常教大家配置全局级别（global）的用户名（user.name）和邮箱（user.email）。</p><div class="warning custom-block"><p class="custom-block-title">注意</p><p>步骤 1 到 7 中，如果 Git 使用 <code>http(s)</code>，那么只需要看<a href="#chong-zhi-quan-ju-pei-zhi">步骤 1</a> 和<a href="#tian-jia-xiang-mu-zhang-hu">步骤 7</a>。</p></div><h2 id="chong-zhi-quan-ju-pei-zhi" tabindex="-1">1.重置全局配置 <a class="header-anchor" href="#chong-zhi-quan-ju-pei-zhi" aria-label="Permalink to “1.重置全局配置”">​</a></h2><div class="language-sh"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 查看全局配置</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> config</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --global</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --list</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 若存在用户名和邮箱则清除</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> config</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --global</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --unset</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> user.name</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> config</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --global</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --unset</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> user.email</span></span></code></pre></div><h2 id="sheng-cheng-bu-tong-zhang-hu-de-gong-si-yao" tabindex="-1">2.生成不同账户的公私钥 <a class="header-anchor" href="#sheng-cheng-bu-tong-zhang-hu-de-gong-si-yao" aria-label="Permalink to “2.生成不同账户的公私钥”">​</a></h2><p>启动终端，通过命令进入到 <code>.ssh</code> 文件夹（如果自定义，进入自定义文件夹）中（这步网络上多数教程没有教，新手很容易不知道怎么回事），输入以下命令生成不同账户的公私钥。</p><p>假设现在有两个账户:</p><ul><li><p>个人</p><ul><li>账户：<code>personal</code></li><li>邮箱：<code>personal@abc.com</code></li></ul></li><li><p>公司</p><ul><li>账户：<code>company</code></li><li>邮箱：<code>company@abc.com</code></li></ul></li></ul><div class="language-sh"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ssh-keygen</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -t</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> rsa</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -C</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">你的邮箱</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 输入完回车（Enter）</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 回车后提示需要键入关键字（也是文件名），一定需要输入，因为默认生成的文件就叫做 id_rsa，如果不输入后续出提示覆盖文件</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 个人账户</span></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># ssh-keygen -t rsa -C &quot;personal@abc.com&quot;</span></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Enter file in which to save the key (~/.ssh/id_rsa): personal</span></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># ...(直接回车到结束)</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 公司账户</span></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># ssh-keygen -t rsa -C &quot;company@abc.com&quot;</span></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Enter file in which to save the key (~/.ssh/id_rsa): company</span></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># ...(直接回车到结束)</span></span></code></pre></div><h2 id="deng-lu-dui-ying-de-cang-ku-she-zhi-gong-si-yao" tabindex="-1">3.配置远程仓库公私钥 <a class="header-anchor" href="#deng-lu-dui-ying-de-cang-ku-she-zhi-gong-si-yao" aria-label="Permalink to “3.配置远程仓库公私钥”">​</a></h2><p>gitee，gitlab，github 各自设置教程请网上查阅。</p><h2 id="pei-zhi-can-shu" tabindex="-1">4.配置参数 <a class="header-anchor" href="#pei-zhi-can-shu" aria-label="Permalink to “4.配置参数”">​</a></h2><p>还是之前的 <code>.ssh</code> 文件夹（如果是自定义，进入自定义文件夹），在根级目录下新建 <code>config</code> 文件（注意无尾缀），键入以下信息。</p><div class="language-sh"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 个人</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Host</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> PersonalHost</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 区分大小写，建议全部小写，输入命令会好看点（此处为了说明采用首字母大写）</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">HostName</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> gitee.com</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">IdentityFile</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /.ssh/personal</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 绝对路径</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PreferredAuthentications</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> publickey</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 可省略不写</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">User</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">你的个人账户名（本次模拟中填写 personal）</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 可省略不写</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 公司</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Host</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> CompanyHost</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">HostName</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> gitee.com</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">IdentityFile</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /.ssh/company</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PreferredAuthentications</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> publickey</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">User</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">你的公司账户名（本次模拟中填写 company）</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre></div><h2 id="tian-jia-si-yao-dao-ben-di" tabindex="-1">5.添加私钥到本地 <a class="header-anchor" href="#tian-jia-si-yao-dao-ben-di" aria-label="Permalink to “5.添加私钥到本地”">​</a></h2><p>回到终端上，键入以下信息。</p><div class="language-sh"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># personal，company 是私钥文件名称，也就是刚刚键入的关键字</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ssh-add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ./personal</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ssh-add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ./company</span></span></code></pre></div><h2 id="ce-shi" tabindex="-1">6.测试 <a class="header-anchor" href="#ce-shi" aria-label="Permalink to “6.测试”">​</a></h2><p>继续使用终端上，键入以下信息。</p><div class="language-sh"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># PersonalHost，CompanyHost 是 config 文件中 Host 属性的对应名称</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> git@PersonalHost:xxx/xxx.git</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> git@CompanyHost:xxx/xxx.git</span></span></code></pre></div><h2 id="tian-jia-xiang-mu-zhang-hu" tabindex="-1">7.添加项目账户 <a class="header-anchor" href="#tian-jia-xiang-mu-zhang-hu" aria-label="Permalink to “7.添加项目账户”">​</a></h2><p>使用终端，通过命令进入<strong>项目的根目录</strong>，键入以下命令来配置本地级别（local）：</p><div class="language-sh"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 注意账号和邮箱需要对应上</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> config</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> user.name</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">你的账户</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> config</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> user.email</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">你的邮箱</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre></div><p>以上结束。</p><h2 id="config-wen-jian-shu-xing-jie-shao" tabindex="-1"><code>config</code> 文件属性介绍 <a class="header-anchor" href="#config-wen-jian-shu-xing-jie-shao" aria-label="Permalink to “config 文件属性介绍”">​</a></h2><p>每个账号单独配置一个 <code>Host</code>，每个 <code>Host</code>要取一个别名，每个 <code>Host</code> 主要配置 <code>HostName</code> 和 <code>IdentityFile</code> 两个属性即可。</p><table tabindex="0"><thead><tr><th>属性名</th><th>值</th></tr></thead><tbody><tr><td>Host</td><td>随意取，不过会影响命令，如 <code>Host mygithub</code>，那么 <code>git@</code> 后面紧跟的名字改为 mygithub<code>git clone git@mygithub:xxx.git</code></td></tr><tr><td>HostName</td><td>真实的域名地址</td></tr><tr><td>IdentityFile</td><td>id_rsa 的地址，使用绝对地址</td></tr><tr><td>PreferredAuthentications</td><td>配置登录时用什么权限认证，可设为 <code>publickey</code>, <code>password</code>, <code>keyboard-interactive</code></td></tr><tr><td>User</td><td>配置使用用户名</td></tr></tbody></table><h2 id="ru-he-xiu-zheng-zhi-qian-ti-jiao-de-yong-hu-ming-he-you-xiang-ne" tabindex="-1">如何修正之前提交的用户名和邮箱呢？ <a class="header-anchor" href="#ru-he-xiu-zheng-zhi-qian-ti-jiao-de-yong-hu-ming-he-you-xiang-ne" aria-label="Permalink to “如何修正之前提交的用户名和邮箱呢？”">​</a></h2><p>git中最猛的后悔药，没有把握慎用。</p><div class="language-sh"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> filter-branch</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --commit-filter</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span></span>\n<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  if [ &quot;$GIT_COMMITTER_NAME&quot; = &quot;已提交的用户名&quot; ];</span></span>\n<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    then</span></span>\n<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      GIT_COMMITTER_NAME=&quot;想要变成的用户名&quot;;</span></span>\n<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      GIT_AUTHOR_NAME=&quot;$GIT_COMMITTER_NAME&quot;;</span></span>\n<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      GIT_COMMITTER_EMAIL=&quot;想要变成的邮箱&quot;;</span></span>\n<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      GIT_AUTHOR_EMAIL=&quot;$GIT_COMMITTER_EMAIL&quot;;</span></span>\n<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      git commit-tree &quot;$@&quot;;</span></span>\n<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    else</span></span>\n<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      git commit-tree &quot;$@&quot;;</span></span>\n<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  fi</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD</span></span></code></pre></div><p>执行命令之后，此时用户名和邮箱都已经修改为想要变成的样子，再执行强制推向远程，要确保已经是最新的HEAD否则会覆盖他人编写的代码。（<code>HEAD</code> 可以修改为 <code>HEAD~5..HEAD</code> 表示最近的5个提交）</p><div class="language-sh"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --force</span></span></code></pre></div><h3 id="git-filter-branch-miao-yong" tabindex="-1"><code>git filter-branch</code> 妙用 <a class="header-anchor" href="#git-filter-branch-miao-yong" aria-label="Permalink to “git filter-branch 妙用”">​</a></h3><p>如果在某次提交时提交了某个大文件或者敏感文件，虽然可以在下次提交中删除该文件，或者把该文件添加到 <code>.gitignore</code> 中，但是如果回溯到某个提交时那个文件还是存在，现在想要将所有历史的提交中移出该文件。</p><div class="language-sh"><button title="复制代码" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 中间引号那一段是shell脚本</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> filter-branch</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --force</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --index-filter</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git rm --cached --ignore-unmatch path</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --prune-empty</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --tag-name-filter</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cat</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --all</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 强制推向远程，可能会覆盖他人的提交</span></span>\n<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --force</span></span></code></pre></div>', 41)
  ])]);
}
const gitMultipleAccountConfiguration = /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render]]);
export {
  __pageData,
  gitMultipleAccountConfiguration as default
};
